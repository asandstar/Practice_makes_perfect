A51 MACRO ASSEMBLER  T1                                                                   12/15/2023 10:32:04 PAGE     1


MACRO ASSEMBLER A51 V8.01
OBJECT MODULE PLACED IN t1.OBJ
ASSEMBLER INVOKED BY: D:\Keil_c51\C51\BIN\A51.EXE t1.ASM SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     
                       2     
                       3     
0000                   4          ORG 0000H
0000 020100            5          LJMP MAIN
000B                   6          ORG 000BH
000B 02018E            7          LJMP TIMER0
0100                   8          ORG 0100H
0100                   9     MAIN:
0100 12017E           10          LCALL INITIAL        ;½«×ÖÐÎÂë´æÔÚ30H¿ªÊ¼µÄµ¥Ôª
0103 7F00             11          MOV R7,#00H       ;R7ÓÃÀ´¿ØÖÆ¶¨Ê±Æ÷Òç³ö´ÎÊ
0105 758160           12          MOV SP,#60H        ;ÉèÖÃ¶ÑÕ»Ö¸Õë
0108 758901           13          MOV TMOD,#01H     ;¶¨Ê±Æ÷0¹¤×÷ÔÚ¹¤×÷·½Ê½1
010B 758C00           14          MOV TH0,#00H 
010E 758A00           15          MOV TL0,#00H        ;¶¨Ê±Æ÷0¸³³õÖµ
0111 D2B9             16          SETB PT0             ;¶¨Ê±Æ÷ÖÐ¶Ï0ÓÅÏÈ¼¶Îª¸ß
0113 D2A9             17          SETB ET0             ;ÔÊÐí¶¨Ê±Æ÷ÖÐ¶ÏÁã
0115 D2AF             18          SETB EA              ;¿ª·ÅËùÓÐÖÐ¶ÏÔÊÐí
0117 D28C             19          SETB TR0             ;Æô¶¯¶¨Ê±Æ÷
0119                  20     XIANSHI:                  ;ÏÔÊ¾³ÌÐò
0119 7E00             21          MOV R6,#00H         ;R6¼ÇÂ¼µ±Ç°ÐÐºÅ
011B 7D00             22          MOV R5,#00H         ;R5¼ÇÂ¼µ±Ç°ÁÐºÅ
011D                  23     BACK1:
011D EE               24          MOV A,R6       
011E 9001D0           25          MOV DPTR,#ROW0_TABLE  ;×¼±¸ÐÐÐÅºÅÇ°°ë¶Î
0121 93               26          MOVC A,@A+DPTR
0122 F550             27          MOV 50H,A               ;ÐÐÐÅºÅµÍ8Î»´æÔÚ50H
0124 EE               28          MOV A,R6
0125 9001E0           29          MOV DPTR,#ROW1_TABLE
0128 93               30          MOVC A,@A+DPTR
0129 F551             31          MOV 51H,A                 ;ÐÐÐÅºÅ¸ß8Î»´æÔÚ51H
012B ED               32          MOV A,R5
012C 75F030           33          MOV B,#30H
012F 25F0             34          ADD A,B
0131 F8               35          MOV R0,A
0132 E6               36          MOV A,@R0
0133 F552             37          MOV 52H,A                ;ÁÐÐÅºÅ¸ß8Î»´æÔÚ52H
0135 0D               38          INC R5                    
0136 ED               39          MOV A,R5
0137 75F030           40          MOV B,#30H
013A 25F0             41          ADD A,B
013C F8               42          MOV R0,A
013D E6               43          MOV A,@R0
013E F553             44          MOV 53H,A                ;ÁÐÐÅºÅµÍ8Î»´æÔÚ53H
0140 7C08             45          MOV R4,#08H              ;ÐÐÁÐÏÈÏò595ÊäÈë¸ß°ËÎ»
0142 AB51             46          MOV R3,51H               ;ÐÐ¸ß8Î»´æÔÚR3
0144 AA52             47          MOV R2,52H                ;ÁÐ¸ß8Î»´æÔÚR2
0146                  48     BACK2:
0146 C292             49          CLR P1.2                    ;ÒÆÎ»¼Ä´æÆ÷×´Ì¬±£³Ö
0148 EB               50          MOV A,R3
0149 33               51          RLC A
014A 9290             52          MOV P1.0,C                  ;R3ÖðÎ»ÊäÈëµ½DL
014C FB               53          MOV R3,A
014D EA               54          MOV A,R2
014E 33               55          RLC A
014F 9291             56          MOV P1.1,C                 ;R2ÖðÎ»ÊäÈëµ½DH
0151 FA               57          MOV R2,A
0152 D292             58          SETB P1.2                   ;ÒÆÎ»¼Ä´æÆ÷¶ÁÈëµ±Ç°ÊäÈë
A51 MACRO ASSEMBLER  T1                                                                   12/15/2023 10:32:04 PAGE     2

0154 DCF0             59          DJNZ R4,BACK2               ;Î´¶ÁÍê8Î»¼ÌÐø
0156 7C08             60          MOV R4,#08H                ;Ïò595ÖÐÊäÈëÐÐÁÐµÍ8Î»
0158 AB50             61          MOV R3,50H                 ;ÐÐµÍ°ËÎ»´æÔÚR3
015A AA53             62          MOV R2,53H                 ;ÁÐµÍ°ËÎ»´æÔÚR2
015C                  63     BACK3:
015C C292             64          CLR P1.2                     ;ÒÆÎ»¼Ä´æÆ÷×´Ì¬±£³Ö
015E EB               65          MOV A,R3
015F 33               66          RLC A
0160 9290             67          MOV P1.0,C                   ;R3ÖðÎ»ÊäÈëDL
0162 FB               68          MOV R3,A
0163 EA               69          MOV A,R2
0164 33               70          RLC A
0165 9291             71          MOV P1.1,C                 ;R2ÖðÎ»ÊäÈëDH
0167 FA               72          MOV R2,A
0168 D292             73          SETB P1.2                   ;ÒÆÎ»¼Ä´æÆ÷¶ÁÈë
016A DCF0             74          DJNZ R4,BACK3               ;Î´Íê³É8Î»¼ÌÐø
016C                  75          SETB OE                     ;¹Ø±Õ595Êä³ö£¬Êä³ö¸ß×è
*** ___________________________________^
*** ERROR #A45 IN 75 (t1.ASM, LINE 75): UNDEFINED SYMBOL (PASS-2)
016E                  76          CLR STR                     ;ÏÈÊä³öµÍµçÆ½
*** __________________________________^
*** ERROR #A45 IN 76 (t1.ASM, LINE 76): UNDEFINED SYMBOL (PASS-2)
0170                  77          SETB STR       ;ÉÏÉÑØÊä³ö´æ´¢Æ÷Ëø´æÒÆÎ»¼Ä´æÆ÷ÖÐ×´Ì¬Öµ
*** ___________________________________^
*** ERROR #A45 IN 77 (t1.ASM, LINE 77): UNDEFINED SYMBOL (PASS-2)
0172                  78          CLR OE                       ;¿ª·Å595Êä³öÔÊÐí
*** __________________________________^
*** ERROR #A45 IN 78 (t1.ASM, LINE 78): UNDEFINED SYMBOL (PASS-2)
0174 1201C7           79          LCALL DELAY1M                ;ÑÓÊ±1ms
0177 0E               80          INC R6
0178 0D               81          INC R5                        ;Ö¸ÏòÏÂÒ»ÐÐÁÐµÄÖµ
0179 BE10A1           82          CJNE R6,#10H,BACK1            ;16ÐÐÎ´É¨ÃèÍê¼ÌÐøÉ¨Ãè
017C 809B             83          SJMP XIANSHI                  ;É¨ÃèÍê´ÓÍ·¿ªÊ¼É¨Ãè
017E                  84     INITIAL:                           ;×ÖÐÎÂë×°Èë30H¿ªÊ¼µ¥Ôª
017E 7830             85          MOV R0,#30H                 ;R0Ö¸Ïò¿ªÊ¼µØÖ·
0180 7F00             86          MOV R7,#00H                 ;R7ÓÃÓÚ¼ÇÂ¼Ê¾Ý¸öÊ
0182                  87     MOV_LOOP:
0182 9001F0           88          MOV DPTR,#CHAR_TABLE
0185 EF               89          MOV A,R7
0186 93               90          MOVC A,@A+DPTR
0187 F6               91          MOV @R0,A                  ;Ê¾Ý×ªÒÆÖÁ30H¿ªÊ¼µ¥Ôª
0188 0F               92          INC R7                       ;¼ÆÊ¼ÓÒ»
0189 08               93          INC R0                       ;Ö¸ÏòÏÂÒ»µ¥Ôª
018A BF20F5           94          CJNE R7,#20H,MOV_LOOP       ;32¸ö×ÖÐÎÂëÎ´×ªÒÆÍê¼ÌÐø
018D 22               95          RET                          
018E                  96     TIMER0:                           ;¶¨Ê±Æ÷ÖÐ¶Ï³ÌÐò£¬¾²Ì¬ÏÔÊ¾²»ÐèÒªÖÐ¶Ï²¿·Ö
018E C28C             97          CLR TR0                      ;ÔÝÍ£¼ÆÊ
0190 0F               98          INC R7                        ;Òç³ö¼ÆÊ¼ÓÒ»
0191 BF0E05           99          CJNE R7,#0EH,JIXU              ;Î´Òç³ö14´Î£¬²»×÷´¦Àí
0194 1201A2          100          LCALL ROLL                    ;µ÷ÓÃ¹ö¶¯³ÌÐò
0197 7F00            101          MOV R7,#00H                 ;¼ÆÊ¹éÁã
0199                 102     JIXU:
0199 758C00          103          MOV TH0,#00H
019C 758A00          104          MOV TL0,#00H                  ;¼ÆÊÆ÷´ÓÐÂ¸³Öµ
019F D28C            105          SETB TR0                        ;¼ÌÐø¼ÆÊ
01A1 32              106          RETI
01A2                 107     ROLL:
01A2 C0E0            108          PUSH ACC                       ;±£»¤AÖµ
01A4 8B70            109          MOV 70H,R3                     ;±£»¤R3µÄÖµ
01A6 7930            110          MOV R1,#30H                    ;R1Ö¸Ïò´æ´¢¿ªÊ¼µ¥Ôª
01A8 7B10            111          MOV R3,#10H                    ;R3¼ÇÂ¼Ñ­»·´ÎÊ
01AA                 112     BACK4:
01AA E7              113          MOV A,@R1
01AB 33              114          RLC A                         ;ÁÐ¸ß°ËÎ»×óÒÆ
01AC 09              115          INC R1                        ;Ö¸ÏòÁÐµÍ°ËÎ»
01AD F5F0            116          MOV B,A                      ;BÔÝ´æ×óÒÆºóÁÐ¸ß8Î»
A51 MACRO ASSEMBLER  T1                                                                   12/15/2023 10:32:04 PAGE     3

01AF E7              117          MOV A,@R1                  
01B0 33              118          RLC A                         ;´ø½øÎ»×óÒÆÁÐµÍ°ËÎ»
01B1 F7              119          MOV @R1,A                   ;ÐÂµÍ°ËÎ»´æ»Ø£¨R1£©
01B2 E5F0            120          MOV A,B                      ;A´æÁÐ×óÒÆºó¸ß°ËÎ»
01B4 4004            121          JC   C1                       ;CÎª1Ìø×ª
01B6 54FE            122          ANL A,#0FEH                   ;CÎª0¸ß°ËÎ»×îµÍÎ»Ìî0
01B8 8002            123          SJMP C0
01BA                 124     C1:
01BA 4401            125          ORL A,#01H                    ;CÎª1¸ß°ËÎ»×îµÍÎ»Ìî1
01BC                 126     C0:
01BC 19              127          DEC R1                      ;R1Ö¸Ïò¸ß°ËÎ»´æ´¢µ¥Ôª
01BD F7              128          MOV @R1,A                 ;´æ»Ø(R1)
01BE 09              129          INC R1
01BF 09              130          INC R1                       ;Ö¸ÏòÏÂÒ»ÁÐ
01C0 DBE8            131          DJNZ R3,BACK4                ;16ÁÐÎ´ÒÆ¶¯Íê¼ÌÐø
01C2 AB70            132          MOV R3,70H                  ;·µ»Ø½øÈëÖÐ¶Ï±£´æµÄR3Öµ
01C4 D0E0            133          POP ACC                      ;·µ»Ø±£´æµÄAÖµ
01C6 22              134          RET
                     135          
01C7                 136     DELAY1M:                           ;ÑÓÊ±1ms³ÌÐò
01C7 7A20            137          MOV R2,#20H
01C9                 138     DLOOP1:
01C9 7B20            139          MOV R3,#20H
01CB                 140     DLOOP0:
01CB DBFE            141          DJNZ R3,DLOOP0
01CD DAFA            142          DJNZ R2,DLOOP1
01CF 22              143          RET
01D0                 144     ROW0_TABLE:    ;ÐÐµÍ°ËÎ»
01D0 01020408        145          DB 00000001B,00000010B,00000100B,00001000B,00010000B,00100000B,01000000B,10000000B
01D4 10204080                
01D8 00000000        146          DB 00H,00H,00H,00H,00H,00H,00H,00H
01DC 00000000                
01E0                 147     ROW1_TABLE:     ;ÐÐ¸ß°ËÎ»
01E0 00000000        148          DB 00H,00H,00H,00H,00H,00H,00H,00H
01E4 00000000                
01E8 01020408        149          DB 00000001B,00000010B,00000100B,00001000B,00010000B,00100000B,01000000B,10000000B
01EC 10204080                
01F0                 150     CHAR_TABLE:     ;×ÖÐÎÂë
01F0 FFFFFFFF        151          DB 0FFH,0FFH,0FFH,0FFH,0FCH,0CFH,0FDH,0EFH,080H,07H
01F4 FCCFFDEF                
01F8 8007                    
01FA FDF3C005        152          DB 0FDH,0F3H,0C0H,005H,0FDH,0F7H,0C0H,07H,0FDH,0F7H,080H,07H
01FE FDF7C007                
0202 FDF78007                
0206 DFF7DBB7        153          DB 0DFH,0F7H,0DBH,0B7H,0BBH,0BBH,77H,79H,0FFH,0FFH
020A BBBB7779                
020E FFFF                    
                     154     END
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
A51 MACRO ASSEMBLER  T1                                                                   12/15/2023 10:32:04 PAGE     4

                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
A51 MACRO ASSEMBLER  T1                                                                   12/15/2023 10:32:04 PAGE     5

                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
A51 MACRO ASSEMBLER  T1                                                                   12/15/2023 10:32:04 PAGE     6

                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
A51 MACRO ASSEMBLER  T1                                                                   12/15/2023 10:32:04 PAGE     7

                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
A51 MACRO ASSEMBLER  T1                                                                   12/15/2023 10:32:04 PAGE     8

                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
A51 MACRO ASSEMBLER  T1                                                                   12/15/2023 10:32:04 PAGE     9

                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
A51 MACRO ASSEMBLER  T1                                                                   12/15/2023 10:32:04 PAGE    10

                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
A51 MACRO ASSEMBLER  T1                                                                   12/15/2023 10:32:04 PAGE    11

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

ACC. . . . . . . .  D ADDR   00E0H   A   
B. . . . . . . . .  D ADDR   00F0H   A   
BACK1. . . . . . .  C ADDR   011DH   A   
BACK2. . . . . . .  C ADDR   0146H   A   
BACK3. . . . . . .  C ADDR   015CH   A   
BACK4. . . . . . .  C ADDR   01AAH   A   
C0 . . . . . . . .  C ADDR   01BCH   A   
C1 . . . . . . . .  C ADDR   01BAH   A   
CHAR_TABLE . . . .  C ADDR   01F0H   A   
DELAY1M. . . . . .  C ADDR   01C7H   A   
DLOOP0 . . . . . .  C ADDR   01CBH   A   
DLOOP1 . . . . . .  C ADDR   01C9H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
INITIAL. . . . . .  C ADDR   017EH   A   
JIXU . . . . . . .  C ADDR   0199H   A   
MAIN . . . . . . .  C ADDR   0100H   A   
MOV_LOOP . . . . .  C ADDR   0182H   A   
OE . . . . . . . .    ----   -----       
P1 . . . . . . . .  D ADDR   0090H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
ROLL . . . . . . .  C ADDR   01A2H   A   
ROW0_TABLE . . . .  C ADDR   01D0H   A   
ROW1_TABLE . . . .  C ADDR   01E0H   A   
SP . . . . . . . .  D ADDR   0081H   A   
STR. . . . . . . .    ----   -----       
TH0. . . . . . . .  D ADDR   008CH   A   
TIMER0 . . . . . .  C ADDR   018EH   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
XIANSHI. . . . . .  C ADDR   0119H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 4 ERROR(S)
